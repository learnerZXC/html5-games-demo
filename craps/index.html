<!DOCTYPE html>
<html>
<head>
	<title>Throwing 1 die</title>
</head>
<body>
	<canvas id="canvas" width="400" height="300">
		Your browser doesn't support the H5 element canvas
	</canvas>
	<br/>
	<button onClick="throwdice()">Throwdice</button>
	

	<script type="text/javascript">
		let ctx;
		ctx = document.getElementById("canvas").getContext('2d');
		let cwidth = 400;  //画布宽
		let cheight = 300; //画布高
		let dicex = 50; 	//骰子圆心x
		let dicey = 50;		//骰子圆心y
		let dicewidth = 100;  //骰子面宽
		let diceheight = 100;	//骰子面高
		let dotrad = 6;	//点数半径
		let dx;	//定义骰子的水平位置，两个骰子的水平位置不同
		let dy;	//定义骰子的垂直位置，两个骰子的垂直位置相同

		function throwdice() {
			let ch = 1 + Math.floor(Math.random()*6); //获取随机数，第一个骰子面的点数
			dx = dicex;		//设置第一个骰子面的dx;
			dy = dicey;		//设置两个骰子的dy;
			drawface(ch);
			dx= dicex + 150; //设置第二个骰子面的dx;
			ch = 1 + Math.floor(Math.random()*6); //获取随机数，第二个骰子面的点数
			drawface(ch);
		}	
		
		function drawface(n) {
			
			ctx.lineWidth = 5;
			ctx.clearRect(dx,dy,dicewidth,diceheight); //清楚原来绘制面的空间
			ctx.strokeRect(dx,dy,dicewidth,diceheight); //绘制骰子面的轮廓
			ctx.fillStyle = '#096'; //设置圆的填充颜色

			let dotx;	//圆点的水平位置
			let doty;	//圆点的垂直位置

			switch(n) {
				case 1:
					Draw1();
					break;
				case 2: 
					Draw2();
					break;
				case 3:
					Draw2();
					Draw1();
					break;
				case 4:
					Draw4();
					break;
				case 5: 
					Draw4();
					Draw1();
					break;
				case 6:
					Draw4();
					Draw2mid();
					break;
			}

		}
		function Draw1() {
			let dotx;  //圆点的水平位置
			let doty;	//圆点的垂直位置
			ctx.beginPath();

			dotx = dx + 0.5*dicewidth; //圆心位置位于骰子的中心
			doty = dy + 0.5*diceheight;

			ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true); // 构造一个圆
			ctx.closePath(); //结束路径
			ctx.fill();		//填充这个圆

		}
		function Draw2() {
			let dotx;
			let doty;
			ctx.beginPath();

			dotx = dx + 3*dotrad;	//设置这个圆圆心与骰子左上角相差三个半径
			doty = dy + 3*dotrad;

			ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true);

			dotx = dx + dicewidth - 3*dotrad;	//设置这个圆圆心与骰子右下角相差三个半径
			doty = dy + diceheight - 3*dotrad;

			ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true);
			ctx.closePath();
			ctx.fill();
		}
		function Draw4() {
			let dotx;
			let doty;
			ctx.beginPath();

			dotx = dx + 3*dotrad;		//设置这个圆圆心与骰子左上角相差三个半径
			doty = dy + 3*dotrad;
			ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true);

			dotx = dx + dicewidth - 3*dotrad;		//设置这个圆圆心与骰子右下角相差三个半径
			doty = dy + diceheight - 3*dotrad;
			ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true);

			ctx.closePath();
			ctx.fill();

			ctx.beginPath();
			dotx = dx + 3*dotrad;		//设置这个圆圆心与骰子左下角相差三个半径
			doty = dy + diceheight - 3*dotrad;
			ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true);

			dotx = dx + dicewidth - 3*dotrad;		//设置这个圆圆心与骰子右上角相差三个半径
			doty = dy + 3*dotrad;
			ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true);

			ctx.closePath();
			ctx.fill();
		}

		function Draw2mid() {
			let dotx;
			let doty;
			ctx.beginPath();

			dotx = dx + 3 * dotrad;
			doty = dy + .5*diceheight;

			ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true);

			dotx = dicex + dicewidth - 3 * dotrad;
			doty = dicey + .5*diceheight;

			ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true);

			ctx.closePath();
			ctx.fill();
		}
		
		
	</script>
</body>
</html>